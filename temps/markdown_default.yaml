type: markdown
css: |
  /* 现代默认版：均衡的段落行距 + 清晰的层级与链接强调，仅聚焦文体结构，不设置全局背景 */
  .markdown-note {
    font-family: "Inter", "Helvetica Neue", "PingFang SC", system-ui, -apple-system, sans-serif;
    font-size: 16px;
    line-height: 1.65;
    color: var(--shell-text, #0f172a);
    max-width: 880px;
    margin: 0 auto;
  }
  .markdown-note h1,
  .markdown-note h2,
  .markdown-note h3,
  .markdown-note h4 {
    font-weight: 700;
    line-height: 1.25;
    margin: 1.6em 0 0.55em;
  }
  .markdown-note h1 { font-size: 2.2em; letter-spacing: -0.01em; }
  .markdown-note h2 { font-size: 1.8em; letter-spacing: -0.01em; }
  .markdown-note h3 { font-size: 1.35em; }
  .markdown-note h4 { font-size: 1.1em; text-transform: uppercase; letter-spacing: 0.04em; }

  .markdown-note a {
    color: color-mix(in srgb, var(--accent, #2563eb) 82%, var(--shell-text, #0f172a));
    text-decoration: underline;
    text-decoration-thickness: 0.12em;
    text-underline-offset: 0.15em;
  }
  .markdown-note a:hover {
    color: color-mix(in srgb, var(--accent-strong, #1d4ed8) 88%, var(--shell-text, #0f172a));
  }

  .markdown-note p,
  .markdown-note ul,
  .markdown-note ol {
    margin: 0 0 1.05em;
  }
  .markdown-note ul,
  .markdown-note ol {
    padding-left: 1.25em;
  }
  .markdown-note li + li {
    margin-top: 0.25em;
  }

  .markdown-note blockquote {
    border-left: 3px solid color-mix(in srgb, var(--accent, #2563eb) 70%, currentColor);
    padding: 0.85em 1.05em;
    margin: 1.3em 0;
    color: color-mix(in srgb, currentColor 82%, transparent);
    background: color-mix(in srgb, currentColor 6%, transparent);
  }

  .markdown-note code {
    font-family: "SFMono-Regular", Menlo, Consolas, "Liberation Mono", monospace;
    font-size: 0.95em;
    padding: 0.12em 0.35em;
    border-radius: 0.28rem;
    background: color-mix(in srgb, currentColor 12%, transparent);
  }
  .markdown-note pre {
    margin: 1.2em 0;
    padding: 1em 1.1em;
    border-radius: 0.65rem;
    border: 1px solid color-mix(in srgb, var(--surface-border, #cbd5e1) 70%, currentColor 30%);
    background: color-mix(in srgb, currentColor 6%, transparent);
    overflow-x: auto;
  }
  .markdown-note pre code {
    display: block;
    padding: 0;
    background: transparent;
  }

  .markdown-note table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.4em 0;
    font-size: 0.98em;
  }
  .markdown-note th,
  .markdown-note td {
    border: 1px solid color-mix(in srgb, var(--surface-border, #cbd5e1) 80%, currentColor 20%);
    padding: 0.65em 0.8em;
    text-align: left;
    vertical-align: middle;
  }
  .markdown-note th {
    font-weight: 700;
    letter-spacing: 0.01em;
  }

  .markdown-note hr {
    border: none;
    border-top: 1px solid color-mix(in srgb, var(--surface-border, #cbd5e1) 75%, currentColor 25%);
    margin: 2em 0;
  }

  .markdown-note figure {
    margin: 1.5rem auto;
    text-align: center;
  }
  .markdown-note figcaption {
    margin-top: 0.6rem;
    font-size: 0.9rem;
    color: color-mix(in srgb, currentColor 70%, transparent);
  }

  .markdown-note .markdown-callout {
    border-radius: 0.85rem;
    border: 1px solid color-mix(in srgb, var(--accent, #2563eb) 30%, currentColor);
    padding: 1rem 1.2rem;
    margin: 1.2rem 0;
  }
  .markdown-note .markdown-callout-title {
    font-weight: 700;
    margin-bottom: 0.4rem;
    letter-spacing: 0.02em;
  }

  /* Q/A 卡片：:::qa 问题 | collapse */
  .markdown-note .markdown-qa {
    border: 1px solid color-mix(in srgb, var(--surface-border, #cbd5e1) 60%, currentColor 40%);
    border-radius: 0.9rem;
    padding: 0.85rem 1rem;
    margin: 1.1rem 0;
    background: color-mix(in srgb, var(--accent, #2563eb) 6%, transparent);
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
  }
  .markdown-note .markdown-qa .markdown-qa-question,
  .markdown-note details.markdown-qa .markdown-qa-question {
    font-weight: 650;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
  }
  .markdown-note .markdown-qa .markdown-qa-label {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    margin-right: 8px;
    border-radius: 999px;
    background: color-mix(in srgb, var(--accent, #2563eb) 20%, transparent);
    color: currentColor;
    font-weight: 700;
    font-size: 0.85rem;
  }
  .markdown-note .markdown-qa .markdown-qa-question {
    font-weight: 650;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
  }
  .markdown-note .markdown-qa .markdown-qa-answer > :first-child { margin-top: 0; }
  .markdown-note .markdown-qa .markdown-qa-answer > :last-child { margin-bottom: 0; }
  .markdown-note details.markdown-qa {
    border: 1px solid color-mix(in srgb, var(--surface-border, #cbd5e1) 60%, currentColor 40%);
    border-radius: 0.9rem;
    padding: 0.65rem 0.9rem;
    margin: 1.1rem 0;
    background: color-mix(in srgb, var(--accent, #2563eb) 4%, transparent);
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
  }
  .markdown-note details.markdown-qa[open] { background: color-mix(in srgb, var(--accent, #2563eb) 8%, transparent); }
  .markdown-note details.markdown-qa summary {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-weight: 650;
    list-style: none;
  }
  .markdown-note details.markdown-qa summary::-webkit-details-marker { display: none; }
  .markdown-note details.markdown-qa .markdown-qa-toggle {
    margin-left: auto;
    font-size: 0.9rem;
    color: color-mix(in srgb, currentColor 70%, transparent);
  }
  .markdown-note details.markdown-qa .markdown-qa-answer { margin-top: 10px; }

  /* 自建布局组件 */
  .markdown-note .markdown-img-grid {
    display: grid;
    gap: clamp(8px, 1vw, 14px);
    margin: 1.1rem 0;
    align-items: center;
  }
  .markdown-note .markdown-img-grid.two-col { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(180px, auto); }
  .markdown-note .markdown-img-grid.two-vertical { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(220px, 1fr); }
  .markdown-note .markdown-img-grid.four-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(180px, 1fr); }
  .markdown-note .markdown-img-grid.rail {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: minmax(220px, 32vw);
    overflow-x: auto;
    gap: 12px;
    padding: 6px 4px;
    scroll-snap-type: x mandatory;
  }
  .markdown-note .markdown-img-grid img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0.75rem;
    box-shadow: 0 12px 32px rgba(15, 23, 42, 0.16);
    scroll-snap-align: start;
  }
  .markdown-note .markdown-img-grid.four-grid img { aspect-ratio: 1 / 1; }
  .markdown-note .markdown-kpi { display: flex; gap: 14px; flex-wrap: wrap; margin: 1.1rem 0; }
  .markdown-note .markdown-kpi > * { flex: 1 1 180px; padding: 12px 14px; border-radius: 10px; background: #fff; box-shadow: 0 10px 28px rgba(15, 23, 42, 0.08); }
  .markdown-note .markdown-cols { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; margin: 1.2rem 0; }
  .markdown-note .markdown-features { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 14px; margin: 1.2rem 0; }
  .markdown-note .markdown-cover { display: flex; align-items: center; justify-content: center; text-align: center; padding: 40px 18px; background: color-mix(in srgb, var(--accent, #2563eb) 6%, transparent); border-radius: 16px; }
  .markdown-note .markdown-divider { text-align: center; padding: 14px 0; }
  .markdown-note .markdown-divider::before { content: ""; display: block; height: 1px; background: color-mix(in srgb, var(--shell-text, #0f172a) 12%, transparent); margin: 10px auto; max-width: 64%; }
  .markdown-note .markdown-banner { padding: 14px 16px; border-radius: 12px; background: color-mix(in srgb, var(--accent, #2563eb) 12%, transparent); color: var(--shell-text, #0f172a); box-shadow: 0 14px 34px rgba(59, 130, 246, 0.18); }
  .markdown-note .markdown-notes { font-size: 0.95rem; color: color-mix(in srgb, currentColor 70%, transparent); font-style: italic; border-left: 3px solid rgba(0, 0, 0, 0.08); padding: 10px 12px; background: rgba(0, 0, 0, 0.02); border-radius: 0 10px 10px 0; }
  .markdown-note .markdown-code-split { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 12px; align-items: start; margin: 1.2rem 0; }
  .markdown-note .markdown-media {
    margin: 1rem 0;
    border-radius: 0.9rem;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.08), rgba(59, 130, 246, 0.06));
    padding: 0.85rem 1rem;
    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.12);
  }
  .markdown-note .markdown-media audio,
  .markdown-note .markdown-media video {
    width: 100%;
    display: block;
    border-radius: 0.75rem;
    outline: none;
    background: #0b1224;
  }
  .markdown-note .markdown-media video { max-height: min(420px, 48vh); object-fit: contain; }
  .markdown-note .markdown-media .markdown-media-caption {
    margin-top: 0.6rem;
    font-size: 0.95rem;
    color: color-mix(in srgb, currentColor 70%, transparent);
  }
wrapperClass: markdown-note
exportCss: |
  :root { color-scheme: light dark; }
  * { box-sizing: border-box; }
  body.markdown-export {
    margin: 0;
    padding: 36px 18px;
    background: transparent;
    color: inherit;
    font: inherit;
    line-height: 1.7;
  }
  body.markdown-export .markdown-export-content {
    max-width: min(1024px, 100%);
    margin: 0 auto;
  }
  body.markdown-export pre { overflow-x: auto; }
  body.markdown-export img,
  body.markdown-export video {
    max-width: 100%;
    height: auto;
  }
  /* 轻量 TOC 控件样式（不干扰模板） */
  .markdown-export-toc-toggle {
    position: fixed;
    right: 16px;
    bottom: 16px;
    z-index: 999;
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid currentColor;
    background: color-mix(in srgb, currentColor 6%, transparent);
    cursor: pointer;
    font-size: 0.9rem;
  }
  .markdown-export-toc {
    position: fixed;
    right: 16px;
    bottom: 64px;
    max-height: min(60vh, 480px);
    width: min(320px, 86vw);
    overflow: auto;
    padding: 12px 14px;
    border-radius: 12px;
    border: 1px solid currentColor;
    background: color-mix(in srgb, currentColor 8%, transparent);
    box-shadow: 0 16px 36px color-mix(in srgb, currentColor 14%, transparent);
    display: none;
  }
  .markdown-export-toc.open { display: block; }
  .markdown-export-toc ul { list-style: none; padding-left: 0; margin: 0; }
  .markdown-export-toc li { margin: 4px 0; }
  .markdown-export-toc a {
    color: inherit;
    text-decoration: none;
  }
  .markdown-export-toc a:hover { text-decoration: underline; }
  /* === 自建展示样式（用于导出） === */
  .markdown-img-grid { display: grid; gap: 14px; margin: 18px 0; align-items: center; }
  .markdown-img-grid.two-col { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(180px, auto); }
  .markdown-img-grid.two-vertical { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(220px, 1fr); }
  .markdown-img-grid.four-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); grid-auto-rows: minmax(180px, 1fr); }
  .markdown-img-grid.rail { display: grid; grid-auto-flow: column; grid-auto-columns: minmax(220px, 32vw); overflow-x: auto; gap: 12px; padding: 6px 4px; scroll-snap-type: x mandatory; }
  .markdown-img-grid img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; box-shadow: 0 12px 30px rgba(15,23,42,0.14); scroll-snap-align: start; }
  .markdown-img-grid.four-grid img { aspect-ratio: 1 / 1; }
  .markdown-kpi { display: flex; gap: 18px; flex-wrap: wrap; }
  .markdown-kpi > * { flex: 1 1 180px; padding: 12px; border-radius: 8px; background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }
  .markdown-cols { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
  .markdown-features { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
  .markdown-cover { display:flex; align-items:center; justify-content:center; text-align:center; padding:48px 18px; background:transparent; }
  .markdown-cover h1 { font-size: 2.4rem; margin: 0 0 8px; }
  .markdown-divider { text-align:center; padding: 18px 0; }
  .markdown-divider::before { content: ""; display:block; height:1px; background:rgba(0,0,0,0.08); margin:12px auto; max-width: 60%; }
  .markdown-banner { padding: 18px; border-radius:8px; background: color-mix(in srgb, var(--bs-primary) 8%, transparent); }
  .markdown-notes { font-size: 0.9rem; color: #6b7280; font-style: italic; border-left: 3px solid rgba(0,0,0,0.06); padding: 10px 12px; background: rgba(0,0,0,0.02); }
  .markdown-code-split { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items:start; }
  .markdown-qa { border: 1px solid color-mix(in srgb, currentColor 18%, transparent); border-radius: 12px; padding: 12px 14px; margin: 1.1rem 0; background: color-mix(in srgb, currentColor 6%, transparent); box-shadow: 0 10px 26px rgba(15,23,42,0.08); }
  .markdown-qa .markdown-qa-question,
  details.markdown-qa .markdown-qa-question { font-weight: 650; display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
  .markdown-qa .markdown-qa-label { display: inline-flex; align-items: center; justify-content: center; width: 22px; height: 22px; margin-right: 8px; border-radius: 50%; background: color-mix(in srgb, currentColor 18%, transparent); font-weight: 700; font-size: 0.85rem; }
  .markdown-qa .markdown-qa-question-text { display: inline; }
  .markdown-qa .markdown-qa-answer > :first-child { margin-top: 0; }
  .markdown-qa .markdown-qa-answer > :last-child { margin-bottom: 0; }
  details.markdown-qa { border: 1px solid color-mix(in srgb, currentColor 18%, transparent); border-radius: 12px; padding: 10px 12px; margin: 1.1rem 0; background: color-mix(in srgb, currentColor 4%, transparent); box-shadow: 0 10px 26px rgba(15,23,42,0.08); }
  details.markdown-qa[open] { background: color-mix(in srgb, currentColor 8%, transparent); }
  details.markdown-qa summary { display: flex; align-items: center; gap: 8px; cursor: pointer; font-weight: 650; list-style: none; }
  details.markdown-qa summary::-webkit-details-marker { display: none; }
  details.markdown-qa .markdown-qa-toggle { margin-left: auto; font-size: 0.9rem; color: color-mix(in srgb, currentColor 70%, transparent); }
  details.markdown-qa .markdown-qa-answer { margin-top: 10px; }
  .markdown-media { margin: 1rem 0; border-radius: 12px; background: color-mix(in srgb, currentColor 6%, transparent); padding: 12px; box-shadow: 0 10px 28px rgba(15,23,42,0.08); }
  .markdown-media audio, .markdown-media video { width: 100%; display: block; border-radius: 10px; outline: none; background: #000; }
  .markdown-media video { max-height: min(420px, 48vh); object-fit: contain; }
  .markdown-media .markdown-media-caption { margin-top: 8px; font-size: 0.95rem; color: rgba(0,0,0,0.7); }
  .markdown-highlight,
  .markdown-blur {
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
  }
  mark.markdown-highlight {
    color: inherit;
  }
  .markdown-highlight {
    background: color-mix(in srgb, #f59e0b 32%, transparent);
    border-radius: 0.2em;
    padding: 0.05em 0.2em;
  }
  .markdown-blur {
    filter: blur(6px);
    opacity: 0.35;
    transition: filter 0.2s ease, opacity 0.2s ease;
    cursor: pointer;
    padding: 0.05em 0.2em;
    border-radius: 0.2em;
    background: color-mix(in srgb, currentColor 8%, transparent);
  }
  .markdown-blur:hover,
  .markdown-blur:focus {
    filter: none;
    opacity: 1;
  }

  /* 图片网格样式（导出与打印友好） */
  .markdown-img-grid {
      display: grid;
      gap: 0.6rem;
      align-items: center;
      justify-items: center;
      margin: 1rem auto;
  }
  .markdown-img-grid.two-col {
      grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .markdown-img-grid.two-vertical {
      grid-template-columns: 1fr;
  }
  .markdown-img-grid.four-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .markdown-img-grid img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 12px 36px rgba(15,23,42,0.12);
      display: block;
  }
customHead: |
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>
  window.addEventListener('DOMContentLoaded', function(){
    if (window.hljs && typeof window.hljs.highlightAll === 'function') {
      window.hljs.highlightAll();
    }
  });
  </script>
customBody: |
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const root = document.querySelector('.markdown-export-content');
    if (!root) return;
    const headings = Array.from(root.querySelectorAll('h1, h2, h3, h4'));
    if (!headings.length) return;
    const slug = text => text.toLowerCase().trim()
      .replace(/[^\w\u4e00-\u9fa5\- ]+/g, '')
      .replace(/\s+/g, '-')
      .replace(/-+/g, '-')
      || 'section';
    headings.forEach((h, idx) => {
      if (!h.id) {
        h.id = `${slug(h.textContent || 'section')}-${idx + 1}`;
      }
    });
    const toggle = document.createElement('button');
    toggle.className = 'markdown-export-toc-toggle';
    toggle.type = 'button';
    toggle.textContent = '目录';
    const panel = document.createElement('div');
    panel.className = 'markdown-export-toc';
    const list = document.createElement('ul');
    headings.forEach(h => {
      const li = document.createElement('li');
      li.style.paddingLeft = `${(parseInt(h.tagName.substring(1), 10) - 1) * 12}px`;
      const a = document.createElement('a');
      a.href = `#${h.id}`;
      a.textContent = h.textContent || h.id;
      li.appendChild(a);
      list.appendChild(li);
    });
    panel.appendChild(list);
    toggle.addEventListener('click', () => panel.classList.toggle('open'));
    document.body.append(toggle, panel);
  });
  </script>
